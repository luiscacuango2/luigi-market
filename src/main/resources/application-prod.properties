# ==========================================================
# CONFIGURACIÓN DE PRODUCCIÓN - LUIGI MARKET
# ==========================================================

# Conexión a la Base de Datos (Variables de Render)
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# Configuración de JPA / Hibernate para PostgreSQL
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true

# Optimización del Pool de Conexiones (Hikari)
# El plan gratuito de Neon tiene límites de conexión, mantenemos el pool bajo.
spring.datasource.hikari.maximum-pool-size=4
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.pool-name=LuigiMarketHikariPool

# Configuración del Servidor y Contexto
# Asegúrate de que este puerto coincida con el EXPOSE de tu Dockerfile
server.port=8080
server.servlet.context-path=/luigi-market

# Documentación Swagger en Producción
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/v3/api-docs
# Actuator: Monitoreo y Salud
# Expone los endpoints de salud e info
management.endpoints.web.exposure.include=health,info,metrics
# Muestra detalles de la base de datos en el check de salud
management.endpoint.health.show-details=always  